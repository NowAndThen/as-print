# Компоненты для разработчика
Что бы собирать (запускать) проект на ПК разработчика должны быть установлены следующие компоненты

- .NET Core версия 1.1 инструкция по настройке в различных операционных системых [тут](https://www.microsoft.com/net/core)
- NodeJS - точно работает с версией 8.2.1 (работу с версией 6.11.1 (LTS) нужно проверить). Дистрибутив и инструкции по установке [тут](https://nodejs.org/)
- NPM - являеться частью NodeJS, так что должен установиться вместе с ним

## Среда разработки:
Необходимости в использовании среды разработки нет, т.к. все операции по сборке и запуску приложения возможны из консоли.

Если есть необходимость в использовании IDE, то есть 2 варианта:

- Visual Studio 2017 (Community Edition - бесплатно, но не для нашей организации)
- VS Code - бесплатен

# Первый запуск проекта

Когда все необходимые компоненты установлены и проект склонирован можно приступить к запуску. Для этого есть следующие пути:

- Запуск из консоли
- Запуск из VS Code
- Запуск из Visual Studio

## Запуск из консоли

1. В папке проекта выполняем команду: `dotnet restore`
2. Если все прошло успешно, то переходим в папку **web** (`cd web`)
3. Установить необходимые пакеты, выполнив команду: `npm install`
4. Выполнить команды:
```
node node_modules/webpack/bin/webpack.js --config webpack.config.vendor.js
node node_modules/webpack/bin/webpack.js 
```
5. Установить переменную среды:  `ASPNETCORE_ENVIRONMENT="Development"`
5. Запустить проект командой: `dotnet run`

Web-приложение запуститься по адресу: [http://localhost:5000](http://localhost:5000)

## Запуск из Visual Studio

WIP

## Запуск из VS Code

### Первоначальная настройка IDE

Установка необходимых расширений:

1.  ms-vscode.csharp - просто ввести в строке поиска для расширений и установить первое найденное
2.  Согласиться на перегрузку окна
3.  В палитре команд (по умолчанию открываеться клавишами Ctrl+Shift+P) ввести команду `Debug: Download .NET Core Debugger` и нажать Enter.
4. Дождаться загрузки и установки необходимых пакетов

### Запуск проекта

0. Однократно перед первым открытием проекта выполнить в папке **web** команды 
```
npm install
node node_modules/webpack/bin/webpack.js --config webpack.config.vendor.js
node node_modules/webpack/bin/webpack.js 
```
1. Открыть проект с помощью пункта меню File->Open Folder... и выбрав в папку проекта (ту папку, в которой содержиться файл as_print.sln)
2. Нажимаем кнопку F5
 
Если все прошло успешно, то в результате произойдет следующее:

- будет запущен браузер по-умолчанию с адресом главной страницы приложения. 
- В VS Code становиться доступным отладка кода написанного на C# (точки останова, контрольные значения, пошаговое исполнение кода и т.д.). 
- Все изменения сделанные в клиентском приложении (Интерфейс на основе Angular 2 - код находиться в папке web/ClientApp) приведут к повторной сборке клиентской части, которая станет доступна в браузере без перезапуска отладчика.
- В комбинации VS Code,Windows и Google Chrome в качестве браузера по-умолчанию - обновление страницы в браузере при изменении клиентской части происходит автоматически (возможно что и другие комбинации работают аналогично).



